{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\ben\\\\Desktop\\\\task8.1D\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\ben\\\\Desktop\\\\task8.1D\\\\src\\\\Artical.jsx\";\nimport React, { useState } from \"react\";\nimport { app, db } from \"./utils/firebase.js\";\nimport { collection, addDoc } from \"firebase/firestore\";\nimport { getStorage, ref, uploadBytes } from \"firebase/storage\";\nimport \"./Artical.css\";\nvar Q_A = collection(db, \"Q_A\");\n\nfunction Artical() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      title = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      abstract = _useState4[0],\n      setAbstract = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      content = _useState6[0],\n      setContent = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      tags = _useState8[0],\n      setTags = _useState8[1];\n\n  var postArtical = function postArtical() {\n    addDoc(Q_A, {\n      type: 1,\n      title: title,\n      abstract: abstract,\n      content: content,\n      tags: tags\n    }).then(function (result) {\n      console.log(result);\n      setTitle(\"\");\n      setAbstract(\"\");\n      setContent(\"\");\n      setTags([]);\n      alert(\"post article success!\");\n    }).catch(function (error) {\n      console.log(error);\n      alert(\"post article fail!\");\n    });\n  };\n\n  var upFile = function upFile() {\n    var file = document.getElementById(\"upFile\").files[0];\n\n    if (file) {\n      var storage = getStorage(app);\n      var storageRef = ref(storage, \"public\");\n      uploadBytes(storageRef, file).then(function (snapshot) {\n        document.getElementById(\"upFile\").value = null;\n        alert('Uploaded file Success!');\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"t1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, \"Title:\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: title,\n    onChange: function onChange(e) {\n      setTitle(e.target.value);\n    },\n    className: \"Title\",\n    placeholder: \"Enter a descriptive title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"t1\",\n    style: {\n      \"marginTop\": \"12px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, \"Add an image:\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"upFile\",\n    type: \"file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    style: {\n      \"height\": \"20px\"\n    },\n    onClick: function onClick() {\n      upFile();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"upload\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"t2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      float: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"Abstract\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    value: abstract,\n    onChange: function onChange(e) {\n      return setAbstract(e.target.value);\n    },\n    placeholder: \"Enter a 1-paragraph abstract\",\n    className: \"abstract\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"t4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      float: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, \"Artical Text\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    value: content,\n    onChange: function onChange(e) {\n      return setContent(e.target.value);\n    },\n    placeholder: \"Enter a 1-paragraph abstract\",\n    className: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"t5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \"Tags:\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: tags.join(\",\"),\n    onChange: function onChange(e) {\n      setTags(e.target.value.split(\",\"));\n    },\n    className: \"Title\",\n    placeholder: \"Please add up to 3 tags describe what your question is about e.g.,Java \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"post\",\n    onClick: postArtical,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"Post\"));\n}\n\nexport default Artical;","map":{"version":3,"names":["React","useState","app","db","collection","addDoc","getStorage","ref","uploadBytes","Q_A","Artical","title","setTitle","abstract","setAbstract","content","setContent","tags","setTags","postArtical","type","then","result","console","log","alert","catch","error","upFile","file","document","getElementById","files","storage","storageRef","snapshot","value","e","target","float","join","split"],"sources":["C:/Users/ben/Desktop/task8.1D/src/Artical.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { app, db } from \"./utils/firebase.js\";\r\nimport { collection, addDoc } from \"firebase/firestore\";\r\nimport { getStorage, ref, uploadBytes } from \"firebase/storage\";\r\n\r\nimport \"./Artical.css\"\r\n\r\nconst Q_A = collection(db, \"Q_A\");\r\n\r\nfunction Artical() {\r\n    const [title, setTitle] = useState(\"\");\r\n    const [abstract, setAbstract] = useState(\"\");\r\n    const [content, setContent] = useState(\"\");\r\n    const [tags, setTags] = useState([]);\r\n\r\n    const postArtical = () => {\r\n        addDoc(Q_A, {\r\n            type: 1,\r\n            title,\r\n            abstract,\r\n            content,\r\n            tags\r\n        }).then(result => {\r\n            console.log(result);\r\n            setTitle(\"\");\r\n            setAbstract(\"\");\r\n            setContent(\"\");\r\n            setTags([]);\r\n            alert(\"post article success!\");\r\n        }).catch(error => {\r\n            console.log(error);\r\n            alert(\"post article fail!\");\r\n        })\r\n    }\r\n\r\n    const upFile = () => {\r\n        let file = document.getElementById(\"upFile\").files[0];\r\n        if (file) {\r\n            const storage = getStorage(app);\r\n            const storageRef = ref(storage,\"public\");\r\n            uploadBytes(storageRef, file).then((snapshot) => {\r\n                document.getElementById(\"upFile\").value = null;\r\n                alert('Uploaded file Success!');\r\n            });\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"t1\">\r\n                <h4>Title:</h4>\r\n                <input value={title} onChange={e => { setTitle(e.target.value) }} className=\"Title\" placeholder=\"Enter a descriptive title\" />\r\n            </div>\r\n            <div className=\"t1\" style={{ \"marginTop\": \"12px\" }}>\r\n                <h4>Add an image:</h4>\r\n                <input id=\"upFile\" type=\"file\" />\r\n                <button style={{ \"height\": \"20px\" }} onClick={() => {\r\n                    upFile()\r\n                }}>upload</button>\r\n            </div>\r\n            <div className=\"t2\">\r\n                <h4 style={{ float: \"left\" }}>Abstract</h4>\r\n                <textarea value={abstract} onChange={e => setAbstract(e.target.value)} placeholder=\"Enter a 1-paragraph abstract\" className=\"abstract\" />\r\n            </div>\r\n            <div className=\"t4\">\r\n                <h4 style={{ float: \"left\" }}>Artical Text</h4>\r\n                <textarea value={content} onChange={e => setContent(e.target.value)} placeholder=\"Enter a 1-paragraph abstract\" className=\"text\" />\r\n            </div>\r\n            <div className=\"t5\">\r\n                <h4>Tags:</h4>\r\n                <input value={tags.join(\",\")} onChange={e => { setTags(e.target.value.split(\",\")) }} className=\"Title\" placeholder=\"Please add up to 3 tags describe what your question is about e.g.,Java \" />\r\n            </div>\r\n            <button className=\"post\" onClick={postArtical}>Post</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Artical"],"mappings":"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"},"metadata":{},"sourceType":"module"}