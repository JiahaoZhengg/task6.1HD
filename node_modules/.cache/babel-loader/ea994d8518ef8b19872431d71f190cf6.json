{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ben\\\\Desktop\\\\task8.1D\\\\src\\\\MyHome\\\\myHome.jsx\";\nimport React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { db } from \"../utils/firebase.js\";\nimport { collection, getDocs, query, where } from \"firebase/firestore\";\nimport \"./myHome.css\";\nvar userInfo = JSON.parse(sessionStorage.getItem(\"userInfo\"));\nvar flag = 1;\n\nfunction MyHome() {\n  var _this = this;\n\n  useEffect(function () {\n    if (flag) {\n      var User = collection(db, \"User\");\n      var q = query(User, where(\"email\", \"==\", userInfo.email));\n      getDocs(q).then(function (result) {\n        console.log(result.docs[0]._document.data.value.mapValue.fields.message.arrayValue.values); // result.docs.forEach(doc => {\n        //     const obj = {};\n        //     let val = doc._document.data.value.mapValue.fields;\n        //     obj.id = doc.id;\n        //     obj.title = val.title.stringValue;\n        //     obj.describe = val.describe.stringValue;\n        //     obj.tags = val.tags.arrayValue.values.map(item => item.stringValue);\n        //     obj.date = val.date.stringValue;\n        //     obj.isHide = true;\n        //     questions.push(obj);\n        // })\n\n        flag = 0; // setQuestions(questions);\n      }).catch(function (error) {});\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 30\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/findQuestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 42\n    }\n  }, \"find question\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/tutorial\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 38\n    }\n  }, \"tutorial\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"userInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, \"\\u4E2A\\u4EBA\\u4FE1\\u606F\"), [\"username\", \"email\"].map(function (info) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 32\n      }\n    }, info, \": \", userInfo[info]);\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"myMessage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default MyHome;","map":{"version":3,"names":["React","useEffect","Link","db","collection","getDocs","query","where","userInfo","JSON","parse","sessionStorage","getItem","flag","MyHome","User","q","email","then","result","console","log","docs","_document","data","value","mapValue","fields","message","arrayValue","values","catch","error","map","info"],"sources":["C:/Users/ben/Desktop/task8.1D/src/MyHome/myHome.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { db } from \"../utils/firebase.js\";\r\nimport { collection, getDocs, query, where } from \"firebase/firestore\";\r\n\r\nimport \"./myHome.css\";\r\n\r\nconst userInfo = JSON.parse(sessionStorage.getItem(\"userInfo\"));\r\n\r\nlet flag = 1;\r\n\r\nfunction MyHome() {\r\n\r\n    useEffect(() => {\r\n        if (flag) {\r\n            const User = collection(db, \"User\");\r\n            const q = query(User, where(\"email\", \"==\", userInfo.email));\r\n            getDocs(q).then(result => {\r\n                console.log(result.docs[0]._document.data.value.mapValue.fields.message.arrayValue.values);\r\n                // result.docs.forEach(doc => {\r\n                //     const obj = {};\r\n                //     let val = doc._document.data.value.mapValue.fields;\r\n                //     obj.id = doc.id;\r\n                //     obj.title = val.title.stringValue;\r\n                //     obj.describe = val.describe.stringValue;\r\n                //     obj.tags = val.tags.arrayValue.values.map(item => item.stringValue);\r\n                //     obj.date = val.date.stringValue;\r\n                //     obj.isHide = true;\r\n                //     questions.push(obj);\r\n                // })\r\n                flag = 0;\r\n                // setQuestions(questions);\r\n            }).catch(error => { });\r\n        }\r\n    });\r\n\r\n    return (\r\n        <div className=\"my-home\">\r\n            <div className=\"nav\">\r\n                <Link to='/'><span>Home</span></Link>\r\n                <Link to='/findQuestion'><span>find question</span></Link>\r\n                <Link to='/tutorial'><span>tutorial</span></Link>\r\n            </div>\r\n            <div className=\"userInfo\">\r\n                <h3>个人信息</h3>\r\n                {\r\n                    [\"username\", \"email\"].map(info => {\r\n                        return <div>{info}: {userInfo[info]}</div>;\r\n                    })\r\n                }\r\n            </div>\r\n\r\n            <div className=\"myMessage\">\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MyHome"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,EAAT,QAAmB,sBAAnB;AACA,SAASC,UAAT,EAAqBC,OAArB,EAA8BC,KAA9B,EAAqCC,KAArC,QAAkD,oBAAlD;AAEA,OAAO,cAAP;AAEA,IAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAX,CAAjB;AAEA,IAAIC,IAAI,GAAG,CAAX;;AAEA,SAASC,MAAT,GAAkB;EAAA;;EAEdb,SAAS,CAAC,YAAM;IACZ,IAAIY,IAAJ,EAAU;MACN,IAAME,IAAI,GAAGX,UAAU,CAACD,EAAD,EAAK,MAAL,CAAvB;MACA,IAAMa,CAAC,GAAGV,KAAK,CAACS,IAAD,EAAOR,KAAK,CAAC,OAAD,EAAU,IAAV,EAAgBC,QAAQ,CAACS,KAAzB,CAAZ,CAAf;MACAZ,OAAO,CAACW,CAAD,CAAP,CAAWE,IAAX,CAAgB,UAAAC,MAAM,EAAI;QACtBC,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,IAAP,CAAY,CAAZ,EAAeC,SAAf,CAAyBC,IAAzB,CAA8BC,KAA9B,CAAoCC,QAApC,CAA6CC,MAA7C,CAAoDC,OAApD,CAA4DC,UAA5D,CAAuEC,MAAnF,EADsB,CAEtB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QACAjB,IAAI,GAAG,CAAP,CAbsB,CActB;MACH,CAfD,EAeGkB,KAfH,CAeS,UAAAC,KAAK,EAAI,CAAG,CAfrB;IAgBH;EACJ,CArBQ,CAAT;EAuBA,oBACI;IAAK,SAAS,EAAC,SAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAK,SAAS,EAAC,KAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,IAAD;IAAM,EAAE,EAAC,GAAT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,UAAb,CADJ,eAEI,oBAAC,IAAD;IAAM,EAAE,EAAC,eAAT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAAyB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,mBAAzB,CAFJ,eAGI,oBAAC,IAAD;IAAM,EAAE,EAAC,WAAT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAAqB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,cAArB,CAHJ,CADJ,eAMI;IAAK,SAAS,EAAC,UAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,8BADJ,EAGQ,CAAC,UAAD,EAAa,OAAb,EAAsBC,GAAtB,CAA0B,UAAAC,IAAI,EAAI;IAC9B,oBAAO;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAMA,IAAN,QAAc1B,QAAQ,CAAC0B,IAAD,CAAtB,CAAP;EACH,CAFD,CAHR,CANJ,eAeI;IAAK,SAAS,EAAC,WAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAfJ,CADJ;AAqBH;;AAED,eAAepB,MAAf"},"metadata":{},"sourceType":"module"}